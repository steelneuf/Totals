# Config Map Documentatie - BA Totalisatie Spring Boot Applicatie

## Overzicht van de Config Map

De `config/` map bevat alle configuratieklassen die de Spring Boot applicatie configureren. Deze map is verantwoordelijk voor:

- **CORS configuratie**: Cross-Origin Resource Sharing instellingen voor frontend communicatie

## Bestanden in de Config Map

### 1. CorsConfig.java

**Doel**: Configureert Cross-Origin Resource Sharing (CORS) instellingen voor communicatie tussen de frontend en backend.

#### Annotations
- `@Configuration`: Markeert deze klasse als een Spring configuratieklasse

#### Interface Implementatie
- `implements WebMvcConfigurer`: Implementeert Spring's WebMvcConfigurer interface voor web configuratie

#### Methoden

**addCorsMappings(CorsRegistry registry)**:
- **Parameter**: `CorsRegistry registry` - Spring's CORS registry voor mapping configuratie
- **Functionaliteit**: Configureert CORS mappings voor de applicatie
- **Return Type**: `void`

#### CORS Configuratie Details

**Mapping**: `/api/**`
- Alle API endpoints die beginnen met `/api/` krijgen CORS configuratie

**Allowed Origins**:
- `http://localhost:*` - Alle localhost poorten
- `http://127.0.0.1:*` - Alle 127.0.0.1 poorten

**Allowed Methods**:
- `GET` - Voor data ophalen
- `POST` - Voor data aanmaken
- `PUT` - Voor data bijwerken
- `DELETE` - Voor data verwijderen
- `OPTIONS` - Voor preflight requests

**Allowed Headers**:
- `Content-Type` - Voor JSON/XML content
- `Authorization` - Voor authenticatie tokens
- `X-Requested-With` - Voor AJAX requests
- `Accept` - Voor content negotiation
- `Origin` - Voor origin header

**Additional Settings**:
- `allowCredentials(true)` - Sta credentials toe in cross-origin requests
- `maxAge(3600)` - Cache preflight responses voor 1 uur (3600 seconden)

#### Gebruik in de Applicatie

Deze configuratie zorgt ervoor dat:
- Frontend applicaties (zoals de bijgevoegde frontend) kunnen communiceren met de backend
- Development servers op verschillende poorten toegang hebben tot de API
- Preflight requests correct worden afgehandeld
- Credentials (cookies, authorization headers) kunnen worden meegestuurd

---

## Samenwerking tussen Config Klassen

### Dependency Flow
```
Application Startup
    ↓
CorsConfig (CORS Headers)
    ↓
Frontend Communication
```

### Best Practices Geïmplementeerd
- **Security**: Beperkte CORS origins voor development
- **Performance**: CORS response caching
- **Flexibiliteit**: Configureerbare CORS instellingen

## Environment Specifieke Configuratie

### Development
- CORS toegestaan voor localhost en 127.0.0.1

### Production (Aanbevelingen)
- CORS origins beperken tot specifieke domeinen
- Credentials alleen toestaan voor vertrouwde origins

## Troubleshooting

### Veelvoorkomde Problemen
1. **CORS Errors**: Controleer of frontend URL overeenkomt met allowed origins

### Debug Tips
- Log CORS requests voor debugging
- Controleer browser developer tools voor CORS errors
